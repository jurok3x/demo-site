<div *ngIf="expenses; else loader">
  <table *ngIf="expenses.length !== 0; else empty" mat-table [dataSource]="dataSource" class="mat-elevation-z8">
    <ng-container matColumnDef="position">
      <th mat-header-cell *matHeaderCellDef> № </th>
      <td mat-cell *matCellDef="let expense; let i = index"> {{this.paginator.pageIndex == 0 ? i + 1 : 1 + i + this.paginator.pageIndex * this.paginator.pageSize}} </td>
    </ng-container>
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef> Назва </th>
      <td mat-cell *matCellDef="let expense"> {{expense.name}} </td>
    </ng-container>
    <ng-container matColumnDef="price">
      <th mat-header-cell *matHeaderCellDef> Ціна </th>
      <td mat-cell *matCellDef="let expense"> {{expense.price}} </td>
    </ng-container>
    <ng-container matColumnDef="categoryDTO.name">
      <th mat-header-cell *matHeaderCellDef> Категорія </th>
      <td mat-cell *matCellDef="let expense"> {{expense.categoryDTO.name}} </td>
    </ng-container>
    <ng-container matColumnDef="date">
      <th mat-header-cell *matHeaderCellDef> Дата </th>
      <td mat-cell *matCellDef="let expense"> {{formatDate(expense.date)}} </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>
<mat-paginator [pageSizeOptions]="[10, 25, 50]"
                 showFirstLastButtons 
                 aria-label="Виберіть кількість витрат на сторінку">
</mat-paginator>
<ng-template #empty>
  <div class="center">У вас немає категорій</div>
</ng-template>
<ng-template #loader>
  <app-loader></app-loader>
</ng-template>
<app-category-select></app-category-select>
<app-datepart-select></app-datepart-select>